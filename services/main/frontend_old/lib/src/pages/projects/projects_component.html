<h4>Projects</h4>
<p class="text-muted">Manage and access projects of the organization</p>
<hr>

<div *ngIf="user != null && organization != null">

  <div class="btn-group btn-group-sm">
    <button (click)="newProjectModal.open(user, organization)" *ngIf="canCreate" class="btn btn-primary" type="button">
      Create
    </button>
  </div>

  <hr>

  <div *ngIf="organization.projects.length > 0" class="list-group">
    <project-list
        [user]="user"
        [projects]="organization.projects"
        [canEdit]="canEdit"
        [canDelete]="canDelete"
        [canManageMembers]="canManageMembers"
        (edit)="showEditProject($event)"
        (delete)="removeProject($event)">
    </project-list>
  </div>

  <div *ngIf="organization.projects.length === 0" class="alert alert-info">
    There are no projects in this organization yet.
  </div>

</div>

<edit-project
    (close)="showEditProjectModal=false"
    (editedProject)="handleProjectEdited($event)"
    *ngIf="showEditProjectModal"
    [organization]="organization"
    [project]="editProject"
    [user]="user"
>
</edit-project>

<delete-project
    (close)="showDeleteProjectModal=false"
    (delete)="handleProjectDeleted()"
    *ngIf="showDeleteProjectModal"
    [project]="deleteProject"
    [user]="user"
>
</delete-project>

<new-project
    #newProjectModal
    (dismiss)="newProjectModal.close()"
    (newProject)="handleNewProject($event)"
>
</new-project>
