<h4>Access Rights</h4>
<p class="text-muted">Specify organization wide permissions for each user</p>
<hr>

<div class="form-group d-flex">
  <input [(ngModel)]="filter" class="form-control w-100" placeholder="Filter by email or username" type="text"/>
  <button (click)="filter = ''" *ngIf="filter != ''" class="btn btn-dark btn-sm ml-2">
    <i class="fas fa-fw fa-times"></i>
  </button>
</div>

<table class="table pyro-table">
  <thead>
  <tr>
    <th width="1">#</th>
    <th>Name</th>
    <th>Email</th>
    <th width="1">Role</th>
    <th class="text-right">Permissions</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let user of users">
    <td>{{user.id}}</td>
    <td>{{user.username}}</td>
    <td>{{user.email}}</td>
    <td>
      <span class="badge {{getRoleBadgeClass(user)}}">{{getRoleBadgeText(user)}}</span>
    </td>
    <td>
      <access-rights-list
          (updated)="updateArv($event, user.id)"
          *ngIf="orgArvsMap[user.id] != null"
          [accessRights]="orgArvsMap[user.id]"
          [user]="user"
      >
      </access-rights-list>
    </td>
  </tr>
  </tbody>
</table>
