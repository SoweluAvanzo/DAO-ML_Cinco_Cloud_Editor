<div class="mb-3">
  <navigation [user]="currentUser"></navigation>
</div>

<div *ngIf="currentUser != null" class="container">
  <h4>Projects</h4>
  <p class="text-muted">Manage and access your personal projects</p>
  <hr>

  <div class="btn-group btn-group-sm">
    <button (click)="newProjectModal.open(currentUser, null)" class="btn btn-primary" type="button">
      Create
    </button>
  </div>
  <hr>

  <div class="alert alert-info" *ngIf="projects.length == 0">
    You don't have any personal projects yet.
  </div>

  <project-list
      *ngIf="projects.length > 0"
      [user]="currentUser"
      [projects]="projects"
      [canEdit]="canEditOrDeleteOrManageMembers"
      [canDelete]="canEditOrDeleteOrManageMembers"
      [canManageMembers]="canEditOrDeleteOrManageMembers"
      (edit)="handleEditProject($event)"
      (delete)="handleDeleteProject($event)">
  </project-list>
</div>

<edit-project
    (close)="showEditProjectModal=false"
    (editedProject)="handleProjectEdited($event)"
    *ngIf="showEditProjectModal"
    [organization]="editProject.organization"
    [project]="editProject"
    [user]="currentUser"
>
</edit-project>

<delete-project
    (close)="showDeleteProjectModal=false"
    (delete)="handleProjectDeleted()"
    *ngIf="showDeleteProjectModal"
    [project]="deleteProject"
    [user]="currentUser"
>
</delete-project>

<new-project
    #newProjectModal
    (dismiss)="newProjectModal.close()"
    (newProject)="handleNewProject($event)"
>
</new-project>
