<div class="mb-3">
  <navigation [user]="user"></navigation>
</div>

<div class="container">
  <h4>Profile</h4>
  <p class="text-muted">Update your profile information</p>
  <hr>

  <div *ngIf="user != null" class="row">
    <div class="col-3">
      <div class="form-group">
        <label>Profile Image</label>
        <profile-image [user]="user"></profile-image>
      </div>
      <div class="form-group d-flex flex-row">
        <input [disabled]="uploader.isUploading" [uploader]="uploader" class="form-control-file w-100" ng2-file-select
               type="file">
        <button (click)="removeProfileImage()" *ngIf="user.profilePicture != null"
                class="btn btn-sm btn-secondary ml-2">
          <i class="fas fa-fw fa-times"></i>
        </button>
      </div>
    </div>
    <div class="col-9">
      <form (submit)="updateUser($event, email.value)">
        <div class="form-group">
          <label>Email</label>
          <input #email class="form-control" placeholder="Enter your email address" required type="text"
                 value="{{user.email}}">
        </div>
        <div class="text-right">
          <button (click)="updateUser($event, email.value)" class="btn btn-primary" type="submit">Save</button>
        </div>
      </form>
    </div>
  </div>
</div>
