<div class="container mt-3">

  <div *ngIf="buildJobsPage != null">

    <div class="alert alert-info" *ngIf="buildJobsPage.items.length === 0">
      <span *ngIf="buildJobsPage.number == 0">There are no build jobs for this project yet.</span>
      <span *ngIf="buildJobsPage.number > 0">There are no more build jobs on this page.</span>
    </div>

    <ng-container *ngIf="buildJobsPage.items.length > 0">
      <table class="table pyro-table">
        <thead>
        <tr>
          <th>Status</th>
          <th>Time</th>
          <th>&nbsp;</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let job of buildJobsPage.items">
          <td style="width: 1%">
            <cc-project-build-job-status-badge [job]="job"></cc-project-build-job-status-badge>
          </td>
          <td>
            <div class="text-muted">
              <i class="fas fa-fw fa-calendar"></i> {{job.startedAt}}
            </div>
            <div *ngIf="job.finishedAt != null" class="text-muted">
              <i class="fas fa-fw fa-clock"></i> {{getDurationAsString(job)}}
            </div>
          </td>
          <td class="text-right">
            <div class="d-inline-block" ngbDropdown>
              <button class="btn btn-sm btn-dark no-caret px-3" ngbDropdownToggle>
                <fa-icon [icon]="['fas', 'ellipsis-v']"></fa-icon>
              </button>
              <ul ngbDropdownMenu>
                <li *ngIf="job.status === 'PENDING' || job.status === 'BUILDING'">
                  <div class="dropdown-item" (click)="abortJob(job)">Abort</div>
                </li>
                <li *ngIf="job.status !== 'BUILDING'">
                  <div class="dropdown-item" (click)="deleteJob(job)">Delete</div>
                </li>
              </ul>
            </div>
          </td>
        </tr>
        </tbody>
      </table>
    </ng-container>

    <div class="btn-group btn-group-sm">
      <button class="btn btn-outline-light" (click)="previousPage()" [disabled]="!hasPreviousPage">
        <i class="fas fa-fw fa-angle-left"></i> Previous page
      </button>
      <button class="btn btn-outline-light" disabled>
        {{(buildJobsPage.number + 1)}} / {{buildJobsPage.amountOfPages}}
      </button>
      <button class="btn btn-outline-light" (click)="nextPage()" [disabled]="!hasNextPage">
        Next page <i class="fas fa-fw fa-angle-right"></i>
      </button>
    </div>
  </div>

</div>
